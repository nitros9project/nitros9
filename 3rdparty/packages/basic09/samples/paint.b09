PROCEDURE paint(* Basic09 Paint by: Matt Massie - help = ?        *)SHELL "display 05,20"RUN foenix("Clear")DIM px,py,bm:INTEGER \px=0 \py=0 \bm=0DIM filename:STRINGfilename="/DD/PIXT"DIM help:BOOLEAN \help=FALSEDIM keyval:INTEGER \keyval=0DIM bmblock:INTEGERDIM bm0,bm1,bm2:INTEGERRUN foenix("Gon")RUN foenix("Bitmap",0,0,bmblock,0,0,"CLUTPAINT2")RUN foenix("BMLoad",bmblock,"/DD/SYS/BACKGROUNDS/PIXMAPPAINT2")DIM color:INTEGER \color=40DIM x,y,btn:INTEGER \x=0 \y=0 \btn=0200 RUN foenix("Mouse",x,y,btn)IF btn=1 THEN 230IF btn=2 THEN 240RUN foenix("Inkey",keyval)IF keyval=99 THEN 250IF keyval=67 THEN 250IF keyval=115 THEN 260IF keyval=108 THEN 270IF keyval=112 THEN 280IF keyval=8 THEN 290IF keyval=9 THEN 300IF keyval=12 THEN 310IF keyval=10 THEN 320IF keyval=113 THEN 330IF keyval=63 THEN 340RUN foenix("CurXY",0,26)PRINT x,y,color," "GOTO 200END 230 IF y<215 THEN RUN foenix("Pixel",x,y,color,bmblock)ENDIF GOTO 200240 RUN foenix("GetPixel",x,y,color,bmblock)GOTO 200250 RUN foenix("BMLoad",bmblock,"/DD/SYS/BACKGROUNDS/PIXMAPPAINT2"
)keyval=0GOTO 200260 RUN foenix("CurXY",0,26)INPUT "Filename to save:",filenameRUN foenix("BMSave",bmblock,filename)PRINT "Saved"keyval=0GOTO 200270 RUN foenix("CurXY",0,26)INPUT "Filename to load:",filenameRUN foenix("BMLoad",bmblock,filename)keyval=0PRINT " "GOTO 200280 px=x \py=y \keyval=0 \ GOTO 200290 px=px-1IF px<0 THEN px=0ENDIF RUN foenix("Pixel",px,py,color,bmblock)keyval=0GOTO 200300 px=px+1IF px>320 THEN px=320ENDIF RUN foenix("Pixel",px,py,color,bmblock)keyval=0GOTO 200310 py=py-1IF py<0 THEN py=0ENDIF RUN foenix("Pixel",px,py,color,bmblock)keyval=0GOTO 200320 py=py+1IF py>240 THEN py=240ENDIF RUN foenix("Pixel",px,py,color,bmblock)keyval=0GOTO 200330 SHELL "display 05,21"RUN foenix("BMStatus",bm0,bm1,bm2)PRINT bm0,bm1,bm2RUN foenix("BMoff",bm)IF bm2=0 THEN RUN foenix("Goff")ENDIF END 340 IF help=FALSE THEN keyval=0RUN foenix("CurXY",0,0)PRINT "********** Basic09 Paint Help **********"PRINT "Use mouse to draw, left click to paint, right click to set color from palette"PRINT "c = clear, l = load a pixmap from file, s = save pixmap to file"PRINT "p = point mouse to point and push p key, then use arrows to draw"PRINT "? = toggle help on off"help=TRUEGOTO 200ELSE RUN foenix("Clear")help=FALSEkeyval=0GOTO 200ENDIF 